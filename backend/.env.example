# Backend example environment
# Copy to .env and edit values. Do NOT commit secrets (client secrets, AWS keys, etc.).

# Server
PORT=3000

# Auth mode: 'dev' (inject mock user) or 'cognito' (verify tokens)
AUTH_MODE=dev

# Dev user (used when AUTH_MODE=dev)
DEV_USER_ID=dev-user-001
DEV_USER_EMAIL=dev@example.com
DEV_USER_NAME=Dev User

# Cognito config (non-sensitive values)
# Region and user pool id
COGNITO_REGION=eu-west-1
COGNITO_USER_POOL_ID=eu-west-1_XXXXXXXXX
# Public client id (do NOT put client secret here)
COGNITO_APP_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxx
# Cognito hosted UI domain (no scheme)
COGNITO_DOMAIN=your-cognito-domain.auth.eu-west-1.amazoncognito.com

# Optional: redirect URI for confidential client flow (server callback)
# If omitted the backend defaults to http://localhost:3000/auth/token
# COGNITO_REDIRECT_URI=http://localhost:3000/auth/token

# Frontend origin for redirects (used to send id_token back to SPA)
# FRONTEND_ORIGIN=http://localhost:5173

# Exam source: 'local' (read from data/exams/) or 's3' (read from S3 + DynamoDB index)
# Use 'local' during development to iterate on question JSON, then
# run `pnpm publish:exams` and switch to 's3' for production.
EXAM_SOURCE=local

# S3 bucket and DynamoDB index table (used when EXAM_SOURCE=s3)
EXAM_BUCKET=certshack-examapp-questions
EXAM_INDEX_TABLE=examapp-exams-index

# AWS / DynamoDB (table names only; do not put credentials)
AWS_REGION=eu-west-1
USERS_TABLE=examapp-users
ENTITLEMENTS_TABLE=examapp-entitlements
AUDIT_TABLE=examapp-audit
